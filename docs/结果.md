# ç¯å¢ƒæ£€æŸ¥ç»“æœ

**æ‰§è¡Œæ—¶é—´**ï¼š2026-02-18  
**æ‰§è¡Œç›®å½•**ï¼š/home/fengde/SAIL

---

## 1. åˆå§‹å·¥å…·æ£€æŸ¥

### æ£€æŸ¥å‘½ä»¤
```bash
command -v riscof || true
command -v spike || true
command -v sail_riscv_sim || true
command -v riscv64-unknown-elf-gcc || true
```

### ç»“æœ

| å·¥å…· | çŠ¶æ€ | è·¯å¾„ |
|------|------|------|
| **riscof** | âŒ æœªæ‰¾åˆ° | - |
| **spike** | âŒ æœªæ‰¾åˆ° | - |
| **sail_riscv_sim** | âŒ æœªæ‰¾åˆ° | - |
| **riscv64-unknown-elf-gcc** | âœ… å·²å®‰è£… | `/usr/lib/ccache/riscv64-unknown-elf-gcc` |

---

## 2. RISCOF å®‰è£…

### å®‰è£…æ­¥éª¤
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -U pip
pip install riscof
```

### å®‰è£…ç»“æœ

**è™šæ‹Ÿç¯å¢ƒåˆ›å»º**ï¼šâœ… æˆåŠŸ  
**pip å‡çº§**ï¼šâœ… ä» 24.0 å‡çº§åˆ° 26.0.1  
**riscof å®‰è£…**ï¼šâœ… æˆåŠŸå®‰è£…ç‰ˆæœ¬ 1.25.3

**å®‰è£…çš„ä¾èµ–åŒ…**ï¼š
- riscof-1.25.3
- riscv-config-3.18.3
- riscv-isac-0.18.0
- ä»¥åŠå…¶ä»–ä¾èµ–åŒ…ï¼ˆpyyaml, GitPython, pytestç­‰ï¼‰

---

## 3. å®‰è£…åéªŒè¯

### æ£€æŸ¥å‘½ä»¤
```bash
command -v riscof || true
riscof --version || true
```

### ç»“æœ

| å·¥å…· | çŠ¶æ€ | è·¯å¾„/ç‰ˆæœ¬ |
|------|------|-----------|
| **riscof** | âœ… å·²å®‰è£… | `/home/fengde/SAIL/.venv/bin/riscof` |
| **riscof ç‰ˆæœ¬** | âœ… æ­£å¸¸ | `RISC-V Architectural Test Framework., version 1.25.3` |

**æ³¨æ„**ï¼šriscof å®‰è£…åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä½¿ç”¨æ—¶éœ€è¦å…ˆæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š
```bash
source /home/fengde/SAIL/.venv/bin/activate
```

---

## 4. ç¼ºå¤±å·¥å…·æœç´¢

### æœç´¢å‘½ä»¤
```bash
find /home/fengde/SAIL -type f -name "spike" 2>/dev/null | head -5
find /home/fengde/SAIL -type f -name "sail_riscv_sim" 2>/dev/null | head -5
```

### ç»“æœ

| å·¥å…· | çŠ¶æ€ | æœç´¢ç»“æœ |
|------|------|----------|
| **spike** | âŒ æœªæ‰¾åˆ° | é¡¹ç›®ç›®å½•ä¸­æœªæ‰¾åˆ° |
| **sail_riscv_sim** | âŒ æœªæ‰¾åˆ° | é¡¹ç›®ç›®å½•ä¸­æœªæ‰¾åˆ° |

---

## 5. æ€»ç»“

### âœ… å·²å®‰è£…/å¯ç”¨çš„å·¥å…·

1. **riscv64-unknown-elf-gcc** âœ…
   - è·¯å¾„ï¼š`/usr/lib/ccache/riscv64-unknown-elf-gcc`
   - çŠ¶æ€ï¼šç³»ç»Ÿçº§å®‰è£…ï¼Œå¯ç›´æ¥ä½¿ç”¨

2. **riscof** âœ…
   - è·¯å¾„ï¼š`/home/fengde/SAIL/.venv/bin/riscof`
   - ç‰ˆæœ¬ï¼š1.25.3
   - çŠ¶æ€ï¼šå·²å®‰è£…åˆ°é¡¹ç›®è™šæ‹Ÿç¯å¢ƒ
   - ä½¿ç”¨æ–¹å¼ï¼šéœ€è¦å…ˆæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ `source .venv/bin/activate`

### âŒ ç¼ºå¤±çš„å·¥å…·

1. **spike** âŒ
   - çŠ¶æ€ï¼šæœªæ‰¾åˆ°
   - è¯´æ˜ï¼šéœ€è¦åœ¨ç³»ç»Ÿè·¯å¾„æˆ–é¡¹ç›®ç›®å½•ä¸­å®‰è£…

2. **sail_riscv_sim** âŒ
   - çŠ¶æ€ï¼šæœªæ‰¾åˆ°
   - è¯´æ˜ï¼šéœ€è¦ä» sail-riscv é¡¹ç›®ç¼–è¯‘ç”Ÿæˆ

---

## 6. ä¸‹ä¸€æ­¥å»ºè®®

### éœ€è¦å®‰è£…çš„å·¥å…·

1. **spike**ï¼ˆRISC-V ISA æ¨¡æ‹Ÿå™¨ï¼‰
   - å®‰è£…æ–¹å¼ï¼šä» riscv-isa-sim ä»“åº“ç¼–è¯‘å®‰è£…
   - å‚è€ƒï¼šhttps://github.com/riscv-software-src/riscv-isa-sim

2. **sail_riscv_sim**ï¼ˆSail RISC-V æ¨¡æ‹Ÿå™¨ï¼‰
   - å®‰è£…æ–¹å¼ï¼šä» sail-riscv é¡¹ç›®ç¼–è¯‘
   - å‘½ä»¤ï¼š`cd sail-riscv && ./build_simulator.sh`
   - è¾“å‡ºè·¯å¾„ï¼šé€šå¸¸åœ¨ `build/c_emulator/sail_riscv_sim`

---

## 7. ä½¿ç”¨è¯´æ˜

### æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆä½¿ç”¨ riscofï¼‰
```bash
cd /home/fengde/SAIL
source .venv/bin/activate
riscof --version  # éªŒè¯å¯ç”¨
```

### ä½¿ç”¨ RISC-V å·¥å…·é“¾
```bash
riscv64-unknown-elf-gcc --version  # ç›´æ¥ä½¿ç”¨
```

---

**æ£€æŸ¥å®Œæˆæ—¶é—´**ï¼š2026-02-18  
**æ£€æŸ¥çŠ¶æ€**ï¼šâœ… riscof å·²å®‰è£…ï¼Œspike å’Œ sail_riscv_sim éœ€è¦åç»­å®‰è£…

---

## 8. ç¯å¢ƒå®‰è£…æ‰§è¡Œç»“æœï¼ˆ2026-02-18 23:30ï¼‰

### A) Spike å®‰è£…çŠ¶æ€

**æ‰§è¡Œå‘½ä»¤**ï¼š
```bash
cd /home/fengde/SAIL
git clone https://github.com/riscv-software-src/riscv-isa-sim.git
cd riscv-isa-sim
mkdir -p build && cd build
../configure --prefix=/home/fengde/SAIL/tools/spike
make -j"$(nproc)"
make install
```

**æ‰§è¡Œç»“æœ**ï¼š
- âœ… ä»“åº“å·²å­˜åœ¨ï¼ˆä¹‹å‰å·²cloneï¼‰
- âœ… configure æˆåŠŸå®Œæˆ
- âš ï¸ make ç¼–è¯‘å¯èƒ½å¡ä½ï¼ˆå·²è·³è¿‡ï¼‰
- âš ï¸ spike äºŒè¿›åˆ¶æœªæ‰¾åˆ°ï¼š`command -v /home/fengde/SAIL/tools/spike/bin/spike` â†’ **spike not found**

**çŠ¶æ€**ï¼šSpike ç¼–è¯‘æœªå®Œæˆï¼Œéœ€è¦ç»§ç»­æ‰§è¡Œæˆ–æ£€æŸ¥ç¼–è¯‘é”™è¯¯

---

### B) Sail ç¼–è¯‘å™¨å®‰è£…çŠ¶æ€

**æ‰§è¡Œå‘½ä»¤**ï¼š
```bash
mkdir -p /home/fengde/SAIL/tools/sail
curl -L https://github.com/rems-project/sail/releases/latest/download/sail.tar.gz \
  | tar xvz -C /home/fengde/SAIL/tools/sail --strip-components=1
```

**æ‰§è¡Œç»“æœ**ï¼š
- âŒ ä¸‹è½½å¤±è´¥ï¼š`404 Not Found`
- âŒ Sail äºŒè¿›åˆ¶æœªæ‰¾åˆ°ï¼š`/home/fengde/SAIL/tools/sail/bin/sail` â†’ **æ–‡ä»¶ä¸å­˜åœ¨**

**çŠ¶æ€**ï¼šSail ä¸‹è½½é“¾æ¥å¤±æ•ˆï¼Œéœ€è¦æŸ¥æ‰¾æ­£ç¡®çš„ä¸‹è½½é“¾æ¥æˆ–ä½¿ç”¨å…¶ä»–å®‰è£…æ–¹å¼

---

### C) sail_riscv_sim æ„å»ºçŠ¶æ€

**æ‰§è¡Œå‘½ä»¤**ï¼š
```bash
cd /home/fengde/SAIL/sail-riscv
CC=/usr/bin/gcc CXX=/usr/bin/g++ \
PATH=/home/fengde/SAIL/tools/sail/bin:$PATH \
./build_simulator.sh
```

**æ‰§è¡Œç»“æœ**ï¼š
- âš ï¸ æœªæ‰§è¡Œï¼ˆå› ä¸ºSailæœªå®‰è£…ï¼‰
- âŒ sail_riscv_sim æœªæ‰¾åˆ°ï¼š`find /home/fengde/SAIL/sail-riscv/build -type f -name sail_riscv_sim` â†’ **æ— ç»“æœ**

**çŠ¶æ€**ï¼šéœ€è¦å…ˆå®‰è£…Sailç¼–è¯‘å™¨æ‰èƒ½æ„å»º

---

### D) RISC-V GNU Toolchain æ£€æŸ¥

**æ‰§è¡Œå‘½ä»¤**ï¼š
```bash
riscv64-unknown-elf-as --version | head -n 1
echo 'amoadd.b x1,x2,(x3)' | riscv64-unknown-elf-as -march=rv64ia_zabha -o /tmp/t.o -
```

**æ‰§è¡Œç»“æœ**ï¼š

1. **å·¥å…·é“¾ç‰ˆæœ¬**ï¼š
   ```
   GNU assembler (2.42-1ubuntu1+6) 2.42
   ```
   âœ… å·¥å…·é“¾å·²å®‰è£…

2. **Zabha æ‰©å±•æ”¯æŒ**ï¼š
   ```
   Error: rv64ia_zabha: unknown prefixed ISA extension `zabha'
   {standard input}:1: Error: unrecognized opcode `amoadd.b x1,x2,(x3)'
   ```
   âŒ **å½“å‰å·¥å…·é“¾ä¸æ”¯æŒ Zabha æ‰©å±•**

**çŠ¶æ€**ï¼šéœ€è¦å®‰è£…/åˆ‡æ¢åˆ°æ”¯æŒ Zabha çš„ RISC-V GNU toolchain ç‰ˆæœ¬

---

## 9. æ€»ç»“

### âœ… å·²å®Œæˆ
- RISC-V GNU toolchain å·²å®‰è£…ï¼ˆç‰ˆæœ¬ 2.42ï¼‰
- riscv-isa-sim ä»“åº“å·²cloneï¼Œconfigureå®Œæˆ

### âš ï¸ éƒ¨åˆ†å®Œæˆ
- Spikeï¼šconfigureå®Œæˆï¼Œä½†ç¼–è¯‘å¯èƒ½å¡ä½ï¼ŒäºŒè¿›åˆ¶æœªç”Ÿæˆ
- Sailï¼šä¸‹è½½é“¾æ¥å¤±æ•ˆï¼Œéœ€è¦æ‰¾æ­£ç¡®çš„ä¸‹è½½æ–¹å¼

### âŒ æœªå®Œæˆ
- Sail ç¼–è¯‘å™¨æœªå®‰è£…ï¼ˆå¯¼è‡´æ— æ³•æ„å»º sail_riscv_simï¼‰
- Spike äºŒè¿›åˆ¶æœªç”Ÿæˆ
- sail_riscv_sim æœªæ„å»º
- **RISC-V toolchain ä¸æ”¯æŒ Zabha æ‰©å±•**ï¼ˆå…³é”®é—®é¢˜ï¼‰

---

## 10. å…³é”®é—®é¢˜

### ğŸ”´ Zabha æ‰©å±•æ”¯æŒç¼ºå¤±

**é—®é¢˜**ï¼šå½“å‰ RISC-V GNU toolchain (2.42) ä¸æ”¯æŒ Zabha æ‰©å±•

**å½±å“**ï¼šæ— æ³•ç¼–è¯‘åŒ…å« Zabha æŒ‡ä»¤çš„æµ‹è¯•ä»£ç 

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. éœ€è¦å®‰è£…æ”¯æŒ Zabha çš„æ›´æ–°ç‰ˆæœ¬ toolchain
2. æˆ–ä»æºç ç¼–è¯‘æ”¯æŒ Zabha çš„ toolchain
3. å‚è€ƒï¼šhttps://github.com/riscv-collab/riscv-gnu-toolchain

---

**æœ€åæ›´æ–°**ï¼š2026-02-18 23:30
