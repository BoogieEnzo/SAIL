# SAIL / ACT

## 相关的仓库

- sail-riscv https://github.com/riscv/sail-riscv
- sail https://github.com/rems-project/sail
- ACT  https://github.com/riscv-non-isa/riscv-arch-test/tree/act4

## 资料/工具

- [RISC-V 指令集参考官网](https://riscv.org/technical/specifications/)
- [RISC-V 扩展开发状态](https://riscv.atlassian.net/wiki/spaces/HOME/pages/16154861/RISC-V+Specs+Under+Development)
- [sail 语言手册](https://alasdair.github.io/manual.html)
- [vscode 插件](https://marketplace.visualstudio.com/items?itemName=TimHutt.sail-vscode)
- [ACT 开发指南](https://github.com/riscv-non-isa/riscv-arch-test/blob/act4/docs/DeveloperGuide.md)

## 可选任务

- 为 sail-riscv / sail 开发新的功能支持，例如未实现的扩展指令集等，可参考仓库现有/已合并 PR
- 为 ACT 开发新的测试支持，例如未实现的扩展指令集，可参考仓库现有/已合并 PR
- 修复仓库现有 issue，潜藏的 bug 等
- 也欢迎分享其他想法

## 考核要求

- 提交 PR
  - 必须通过 CI, 除非由 lean/rocq 导致
  - 保证一定的代码质量
  - 不能太简单，例如修复 typo 等
  - 注意确保不要和当仓库其他 PR 功能撞车
  - 如果 PR 质量不合格，则视为考核失败
- PR 提交后，还需要一个做一个技术报告
  - 时间固定每周三下午 3 点，腾讯会议，准备 PPT, 时长 30 分钟左右
  - 可以讲基础知识，问题背景，思维过程，难点，解决方法

---

## ✅ 最终选择：Zabha

**扩展名称**：Zabha - Byte and Halfword Atomic Memory Operations

**状态**：已批准（2024年4月），sail-riscv未实现

**规范链接**：https://docs.riscv.org/reference/isa/unpriv/zabha.html

**复杂度评估**：
- ✅ **中等难度**：16条原子操作指令
- ✅ **指令明确**：AMOADD/AND/OR/XOR/SWAP/MIN/MAX等字节和半字版本
- ✅ **你的优势**：有A扩展经验，熟悉原子操作

**工作内容**：
- 实现16条原子内存操作指令（.B和.H后缀）
- 参考A扩展和Zaamo扩展现有实现

**参考实现**：
- `model/extensions/A/` - 原子操作扩展示例
- `model/extensions/Zaamo/` - 原子内存操作示例

**RISC-V规范**：
- GitHub: https://github.com/riscv/riscv-zabha
- 文档: https://docs.riscv.org/reference/isa/unpriv/zabha.html

**选择理由**：
- 规范完整（有独立文档）
- 已批准（2024年4月）
- 无冲突（sail-riscv未实现）
- 复杂度适中（1-2周可完成）
