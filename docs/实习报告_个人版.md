# 实习阶段报告（个人版：老师讲解）

## 0. 你现在的真实状态
- 你已经完成了“工程推进”和“阶段验证”的主体工作。
- 你还没完成的是“最终考核闭环”：`PR 提交 + CI 通过 + 技术汇报`。
- 阻塞不在你不会写代码，而在工具链版本不支持 Zabha 指令。
- 新增状态：你已经把 `/oc` 自动触发链路接到自己的 fork 上，OpenCode workflow 能被评论触发。

## 1. 你必须掌握的核心知识（只讲项目相关）

### 1.1 ACT 到底是什么
- 定义：`riscv-arch-test` 是 RISC-V 架构测试集合，可以理解为“标准化题库 + 判卷规则”。
- 作用：验证某个实现（模拟器/硬件）是否符合 ISA 规范。
- 你的任务：给 Zabha 扩展补上“题目和判卷逻辑”。

例子：
- 没有 ACT 测试：实现方说“我支持 Zabha”，但没人能自动验证真假。
- 有 ACT 测试：一跑就知道某条指令对不对。

### 1.2 Zabha 是什么
- 定义：Zabha 是 A 扩展的补充，提供字节（8-bit）和半字（16-bit）的原子内存操作。
- 关键词：`原子` = 读-改-写不可被打断。
- 你要记住：不是普通 `load + add + store`，而是单条原子语义。

例子（概念）：
- 非原子：线程 A 读到 1，线程 B 也读到 1，最后都写 2，丢更新。
- 原子：硬件保证读改写作为一个整体执行，不会丢更新。

### 1.3 为什么测试会卡在工具链
- 现象：汇编器/编译器不认识 `amoadd.b` 这类 Zabha 指令。
- 本质：不是测试逻辑错，而是“翻译器字典里没有这个新单词”。
- 结论：必须换支持 Zabha opcode 的 GNU toolchain。

例子：
- 你写的英文句子语法没错，但旧版词典不收这个新词，编译阶段直接失败。

### 1.4 CI 是什么，为什么它决定你过不过
- 定义：CI（持续集成）是仓库自动跑的检查流水线。
- 常见项：构建、测试、格式检查、脚本检查。
- 考核含义：老师不是看你“说自己测过”，而是看 CI 的客观结果。

### 1.5 你这次新做的 OpenCode 集成到底意味着什么
- 你做对了三件事：
  - 把 workflow 放到默认分支 `act4`；
  - 配了仓库 Secret；
  - 在 Issue 里用 `/oc` 触发了 Actions。
- 这说明：自动化“入口”已经通了。
- 但 `opencode` 失败说明：入口通不等于模型侧配置完全正确，Provider 还要对齐。

## 2. 你汇报时要讲的技术主线（可直接背）
1. 我选择了一个中等复杂度、可产生实际价值的任务：为 ACT 补 Zabha 测试。  
2. 我把任务做成阶段化自动流程，而不是一次性手工跑。  
3. 阶段验证已推进到 phase4 完成，证据在心跳和日志文件。  
4. 最终阶段阻塞已定位为工具链能力缺失，不是测试设计错误。  
5. 我已补齐 GitHub 自动化入口（`/oc` 可触发），下一步是修正模型 Provider 配置并完成 phase5 + PR CI 闭环。  

## 3. 你必须会解释的三个“为什么”

### 3.1 为什么这不是简单活
- 因为是 ISA 扩展测试，不是改文档 typo。
- 需要规范理解、用例设计、自动化验证和证据链管理。

### 3.2 为什么 AI 写了很多代码仍算你的能力
- 你的能力体现在：任务定义、验收标准、风险判断、结果审计。
- 工程里“把 AI 产出变成可交付结果”本身就是能力。

### 3.3 为什么现在不能说最终完成
- 最终完成的判据是：`PR + CI 通过 + 汇报`。
- 目前只差“支持 Zabha 的工具链”这个外部条件。

## 4. 你接下来只做这三步
1. 准备支持 Zabha 的 `riscv64-unknown-elf-gcc/binutils`。  
2. 复跑 full Zabha（phase5），把结果写入日志并留截图。  
3. 修正 OpenCode 模型 Provider 配置，确认 `/oc` 稳定回评；随后提交 PR，等待并通过 CI。  

## 5. 你可以用来结尾的一句话
这次实习任务我已经完成了技术主体与工程化验证，当前仅受工具链版本限制；完成工具链升级后即可收口到 PR 和 CI，通过考核链路。
